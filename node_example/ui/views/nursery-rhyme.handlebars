

<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.runtime.js"></script>
<script src="templates.js"></script>

<div id="nurseryRhyme">Нажмите кнопку...</div>
<hr>
<button id="btnNurseryRhyme">Генерация детского стишка </button>
<button id="btnNurseryRhymeAjax"> Генерация детского стишка из AJAX</button>

{{inc 14}}

    <script>
        $(document).ready(function(){

            // компиляция шаблона на клиенте
            let nurseryRhymeTemplate = Handlebars.templates.nurseryRhymeTemplate;

            /*console.log(nurseryRhymeTemplate({
                animal: 'василиск',
                bodyPart: 'хвост',
                adjective: 'острый',
                noun: 'иголка'
            }));*/
            var $nurseryRhyme = $('#nurseryRhyme');

            $('#btnNurseryRhyme').on('click', function(evt){
                evt.preventDefault();
                $nurseryRhyme.html(nurseryRhymeTemplate({
                    animal: 'василиск',
                    bodyPart: 'хвост',
                    adjective: 'острый',
                    noun: 'иголка'
                }));
            });

            $('#btnNurseryRhymeAjax').on('click', function(evt){
                evt.preventDefault();
                $.ajax('/data/nursery-rhyme', {
                    success: function(data){
                        $nurseryRhyme.html(nurseryRhymeTemplate(data))
                    }
                });
            });
        });
    </script>
